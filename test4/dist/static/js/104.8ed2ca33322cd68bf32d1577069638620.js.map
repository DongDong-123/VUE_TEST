{"version":3,"sources":["webpack:///src/components/systemManagement/userRight/userManagement.vue","webpack:///./src/components/systemManagement/userRight/userManagement.vue?5015","webpack:///./src/components/systemManagement/userRight/userManagement.vue"],"names":["userManagement","components","Treeselect","vue_treeselect_cjs_default","a","created","that","this","data","loginid","username","dpname","roleCode","pageSize","pageNum","flag","searchFlag","stringify_default","axios","post","headers","Content-Type","then","response","console","log","rowCount","total","records","tableBody","catch","error","code","roleCodes","deleteCookies","computed","radioVal","formItem","radio","watch","val1","roleSelectShow","formParamsId","menuCodes","$store","state","authCodes","selectLength","levelId","unitIds","levelIds","selectTreeDates","showSelectTreeDates","modal2","data4","formValidateModel1","interest","gender","desc","checkBox","ruleValidateModel1","required","type","min","message","trigger","max","modal1","tableHeader","name","formValidate","realName","pageNo","ruleValidate","methods","download","url","window","URL","createObjectURL","Blob","link","document","createElement","style","display","href","setAttribute","body","appendChild","click","containMenuCode","menuCode","exist","forEach","element","exportFn","_this","responseType","sameStep","date","Date","setTime","getTime","cookie","toGMTString","getSelectLength","nodes","length","mode2Save","$refs","tree1","getCheckedNodes","menu","$Message","success","setTimeout","warning","updateShowSelectTreeDates","i","pageSizefun","pageChange","handleSubmit","watchfun","$router","push","roleSet","idVal","status","remarks","allRoles","selectTreeCleanUp","treeDatas","children","$delete","saveFun","_this2","validate","valid","del","_this3","modal_loading","roleSelectFun","val","params","FormData","append","roleChecked","level","unitTree","userRight_userManagement","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_m","attrs","on","model","label-width","inline","label","prop","staticStyle","width","placeholder","value","callback","$$v","$set","expression","_l","item","key","_s","roleName","$event","index","id","item2","index2","var","_e","item3","index3","current","page-size","show-elevator","show-sizer","update:current","on-change","on-page-size-change","mask-closable","title","ref","rules","autosize","minRows","maxRows","slot","margin-left","show-checkbox","multiple","on-check-change","position","top","left","options","margin","staticRenderFns","src","__webpack_require__","alt","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/104.8ed2ca33322cd68bf32d1577069638620.js","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"topTitle\">\r\n      <span class=\"topTitle-span1\">系统管理</span>\r\n      <span class=\"topTitle-span1\">\r\n        <img src=\"../../../assets/topTitle1.png\" alt />\r\n      </span>\r\n      <span class=\"topTitle-span1\">用户权限</span>\r\n      <span class=\"topTitle-span1\">\r\n        <img src=\"../../../assets/topTitle1.png\" alt />\r\n      </span>\r\n      <span class=\"topTitle-span1\">用户管理</span>\r\n          <div class=\"button-content\">\r\n            <Button type=\"primary\" @click=\"exportFn\">\r\n              <i class=\"ivu-icon ivu-icon-md-arrow-up\"></i>导出\r\n            </Button>\r\n             <Button type=\"primary\" @click=\"sameStep\">\r\n              <i class=\"ivu-icon ivu-icon-md-arrow-up\"></i>数据同步\r\n            </Button>\r\n          </div>\r\n    </div>\r\n    <div class=\"contentCellBox\">\r\n      <div class=\"contentCellBox\">\r\n        <div class=\"contentCellTitle\">\r\n          <div class=\"contentCellTitle-1\"></div>查询条件\r\n        </div>\r\n        <div class=\"contentCellBox\">\r\n          <Form :model=\"formValidate\" :label-width=\"120\" inline>\r\n            <Row>\r\n              <FormItem label=\"登录账号\" prop=\"username\">\r\n                <Input v-model=\"formValidate.username\" placeholder=\"请输入登录账号\" style=\"width:200px\"></Input>\r\n              </FormItem>\r\n              <FormItem label=\"真实姓名\" prop=\"realName\">\r\n                <Input v-model=\"formValidate.realName\" placeholder=\"请输入真实姓名\" style=\"width:200px\"></Input>\r\n              </FormItem>\r\n              <FormItem label=\"所属部门\">\r\n                <Input v-model=\"formValidate.dpname\" placeholder=\"请输入所属部门\" style=\"width:200px\"></Input>\r\n              </FormItem>\r\n              <FormItem label=\"角色\">\r\n                  <Select v-model=\"formValidate.roleCode\" style=\"width:200px\">\r\n                    <Option value=\"\" >请选择</Option>\r\n                      <Option v-for=\"item in roleCodes\" :value=\"item.roleCode\" :key=\"item.roleCode\" >{{item.roleName}}</Option>\r\n                  </Select>\r\n              </FormItem>\r\n              \r\n            </Row>\r\n            <Row>\r\n                <div class=\"btnClass\">\r\n                  <Button type=\"primary\" @click=\"handleSubmit('0')\">查询</Button>\r\n                  <Button type=\"primary\" @click=\"handleSubmit('1')\">精确查询</Button>\r\n                </div>\r\n              </Row>\r\n          </Form>\r\n        </div>\r\n      </div>\r\n      <div class=\"contentCellBox\">\r\n        <div class=\"contentCellTitle\">\r\n          <div class=\"contentCellTitle-1\"></div>数据列表\r\n        </div>\r\n        <div class=\"contentCellBody\">\r\n          <Row>\r\n            <table class=\"tableBox\">\r\n              <thead>\r\n                <tr>\r\n                  <td>序号</td>\r\n                  <td v-for=\"(item,index) in tableHeader\">{{item.name}}</td>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr v-for=\"(item,index) in tableBody\" :id=\"item.id\">\r\n                  <td>{{pageSize*(pageNum-1)+index+1}}</td>\r\n                  <template v-for=\"(item2,index2) in item.arr\">\r\n                    <td v-if=\"item2.flag=='1'\">{{item2.var}}</td>\r\n                    <td v-if=\"item2.flag=='3' && containMenuCode('112003001004')\" @click=\"roleSet(item.id)\">\r\n                      <span class=\"spanBox\">{{item2.var}}</span>\r\n                    </td>\r\n                    <td v-if=\"item2.flag=='3' && !containMenuCode('112003001004')\">\r\n                      <span class=\"spanBox\"></span>\r\n                    </td>\r\n                    <td v-else-if=\"item2.flag=='2'  && containMenuCode('112003001002')\">\r\n                      <p v-for=\"(item3,index3) in item2.var\" class=\"roleBox\" @click=\"roleSelectFun(item3.roleCode)\">\r\n                        <span>{{item3.roleName}}</span>\r\n                      </p>\r\n                    </td>\r\n                    <td v-if=\"item2.flag=='2'  && !containMenuCode('112003001002')\">\r\n                      <p v-for=\"(item3,index3) in item2.var\">\r\n                        <span>{{item3.roleName}}</span>\r\n                      </p>\r\n                    </td>\r\n                  </template>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </Row>\r\n          <div class=\"flexCenter pageBox\">\r\n            <Page :current.sync=\"pageNum\" :total=\"rowCount\" @on-change=\"pageChange\" :page-size=\"pageSize\" @on-page-size-change='pageSizefun' show-elevator show-sizer/>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- ===========弹框 -->\r\n    <!-- <Button @click=\"modal1 = true\">Custom header and footer</Button> -->\r\n    <Modal :mask-closable=\"false\"   v-model=\"modal1\" width=\"1000\" class=\"dialog\" title=\"用户管理\">\r\n      <div>\r\n        <Form\r\n          ref=\"formValidateModel1\"\r\n          :model=\"formValidateModel1\"\r\n          :rules=\"ruleValidateModel1\"\r\n          :label-width=\"80\"\r\n        >\r\n          <FormItem label=\"角色\" prop=\"interest\">\r\n            <CheckboxGroup v-model=\"formValidateModel1.interest\">\r\n              <Checkbox\r\n                v-for=\"(item,index) in checkBox\"\r\n                :label=\"item.roleCode\"\r\n                :key=\"index\"\r\n              >{{item.roleName}}</Checkbox>\r\n            </CheckboxGroup>\r\n          </FormItem>\r\n          <FormItem label=\"状态\">\r\n            <RadioGroup v-model=\"formValidateModel1.gender\">\r\n              <Radio label=\"true\">启用</Radio>\r\n              <Radio label=\"false\">停用</Radio>\r\n            </RadioGroup>\r\n          </FormItem>\r\n          <FormItem label=\"说明\" prop=\"desc\">\r\n            <Input\r\n              v-model=\"formValidateModel1.desc\"\r\n              type=\"textarea\"\r\n              :autosize=\"{minRows: 2,maxRows: 5}\"\r\n              placeholder=\"请输入...\"\r\n            ></Input>\r\n          </FormItem>\r\n        </Form>\r\n      </div>\r\n      <div slot=\"footer\" class=\"flexCenter\">\r\n        <div class=\"button-content\">\r\n          <Button type=\"primary\" @click=\"saveFun('formValidateModel1')\">保存</Button>\r\n          <Button style=\"margin-left: 8px\" @click=\"modal1=false\">取消</Button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n    <!-- ===========弹框 -->\r\n    <!-- ===========弹框 -->\r\n    <!-- <Button @click=\"modal1 = true\">Custom header and footer</Button> -->\r\n    <Modal :mask-closable=\"false\"   v-model=\"modal2\" width=\"1000\" class=\"dialog\" title=\"权限\">\r\n      <div class=\"jurisdictionModal flexStart\">\r\n        <div class=\"jurisdictionModal-1\">\r\n          <Tree  ref=\"tree1\" :data=\"data4\" show-checkbox multiple @on-check-change=\"getSelectLength\"></Tree>\r\n        </div>\r\n        <div class=\"jurisdictionModal-2\">\r\n          <div class=\"jurisdictionModal-2-1\">数据权限</div>\r\n          <div class=\"jurisdictionModal-2-2\">\r\n            <!-- ------------ -->\r\n            <Form :model=\"formItem\" :label-width=\"80\">\r\n              <FormItem label>\r\n                <RadioGroup v-model=\"formItem.levelId\" @on-change=\"updateShowSelectTreeDates\">\r\n                  <Radio v-for=\"item in levelIds\" :label=\"item.code\" :key=\"item.code\">{{item.name}}</Radio>\r\n                </RadioGroup>\r\n              </FormItem>\r\n              <FormItem label>\r\n                <treeselect\r\n                  v-if=\"showSelectTreeDates\"\r\n                  v-model=\"formItem.unitIds\"\r\n                  :multiple=\"true\"\r\n                  :options=\"selectTreeDates\"\r\n                  style=\"position:absolute;top:15px;left:0px\"\r\n                />\r\n              </FormItem>\r\n            </Form>\r\n            <!-- ------------ -->\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div slot=\"footer\" class=\"flexCenter button-content\" style=\"margin:0\">\r\n        <Button type=\"primary\" @click=\"mode2Save\">保存</Button>\r\n        <Button style=\"margin-left: 8px\" @click=\"modal2=false\">取消</Button>\r\n      </div>\r\n    </Modal>\r\n    <!-- ===========弹框 -->\r\n  </div>\r\n</template>\r\n<script>\r\nimport Treeselect from \"@riophae/vue-treeselect\";\r\nimport \"@riophae/vue-treeselect/dist/vue-treeselect.css\";\r\nexport default {\r\n  components: { Treeselect },\r\n  created() {\r\n    // -----------\r\n    let that = this;\r\n    let data = {\r\n      loginid: \"\",\r\n      username: \"\",\r\n      dpname: \"\",\r\n      roleCode: \"\",\r\n      pageSize:this.pageSize,\r\n      pageNum: this.pageNum,\r\n      flag: this.searchFlag\r\n    };\r\n    data = JSON.stringify(data);\r\n    this.axios\r\n      .post(\"/system/user/getUserInfo\", data, {\r\n        headers: { \"Content-Type\": \"application/json\" }\r\n      })\r\n      .then(response => {\r\n        console.log(response);\r\n        if (response.data) {\r\n          that.rowCount = response.data.total;\r\n        }\r\n        if (response.data.records) {\r\n          that.tableBody = response.data.records;\r\n        }\r\n      })\r\n      .catch(error => {});\r\n      this.axios\r\n      .post(\"/system/role/Allrole\")\r\n      .then(response => {\r\n        if (response.code == \"200\") {\r\n            that.roleCodes = response.data;           \r\n        }\r\n      })\r\n      .catch(error => {});\r\n    // -------------\r\n    this.deleteCookies(\"AmlLtpaToken\");\r\n  },\r\n  computed: {\r\n    radioVal() {\r\n      return this.formItem.radio;\r\n    }\r\n  },\r\n  watch: {\r\n    radioVal(val1) {\r\n      if (val1 == \"female3\") {\r\n        this.roleSelectShow = true;\r\n      } else {\r\n        this.roleSelectShow = false;\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      formParamsId:'',//提交参数id\r\n      menuCodes: this.$store.state.authCodes,\r\n      pageNum: 1,\r\n      selectLength: 0,\r\n      searchFlag: 0,\r\n      rowCount: 0,\r\n      pageSize:10,\r\n      // ==============弹框二\r\n      roleSelectShow: false, //判定弹框下拉框是否显示\r\n      formItem: {\r\n        levelId: \"\",\r\n        unitIds: null\r\n      },\r\n      roleCodes: [],\r\n      levelIds: [],\r\n      roleCode: \"\",\r\n      selectTreeDates: [],\r\n      showSelectTreeDates: false,\r\n      modal2: false,\r\n      data4: [],\r\n      // ==============弹框二\r\n      // ===============弹框一\r\n      formValidateModel1: {\r\n        interest: [], //角色\r\n        gender: \"true\", //状态\r\n        desc: \"\" //说明\r\n      },\r\n      checkBox: [\r\n      ],\r\n      ruleValidateModel1: {\r\n        interest: [\r\n          {\r\n            required: true,\r\n            type: \"array\",\r\n            min: 1,\r\n            message: \"至少请选择色一个\",\r\n            trigger: \"change\"\r\n          }\r\n        ],\r\n         desc: [\r\n           {\r\n            type: \"string\",\r\n            max: 100,\r\n            message: \"长度最大不能超过255\",\r\n            trigger: \"blur\"\r\n          }\r\n        ],\r\n      },\r\n      modal1: false,\r\n      //   ============弹框一\r\n      tableHeader: [\r\n        { name: \"操作\" },\r\n        { name: \"登录账号\" },\r\n        { name: \"真实姓名\" },\r\n        { name: \"电话\" },\r\n        { name: \"传真\" },\r\n        { name: \"手机\" },\r\n        { name: \"邮件\" },\r\n        { name: \"所属部门\" },\r\n        { name: \"用户erp\" },\r\n        { name: \"职务\" },\r\n        { name: \"状态\" },\r\n        { name: \"角色\" }\r\n      ],\r\n      tableBody: [\r\n      ],\r\n      formValidate: {\r\n        username: \"\", //机构代码\r\n        realName: \"\", //机构名称\r\n        dpname: \"\",\r\n        roleCode: \"\",\r\n        flag: \"1\",\r\n        pageSize: 10,\r\n        pageNo: \"1\"\r\n        // -----\r\n      },\r\n      ruleValidate: {\r\n        username: [\r\n          {\r\n            required: false,\r\n            message: \"\",\r\n            trigger: \"blur\"\r\n          }\r\n        ],\r\n        realName: [\r\n          {\r\n            required: false,\r\n            message: \"\",\r\n            trigger: \"blur\"\r\n          }\r\n        ]\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n     download(data, name) {\r\n      if (!data) {\r\n        return;\r\n      }\r\n      let url = window.URL.createObjectURL(new Blob([data]));\r\n      let link = document.createElement(\"a\");\r\n      link.style.display = \"none\";\r\n      link.href = url;\r\n      link.setAttribute(\"download\", name);\r\n      document.body.appendChild(link);\r\n      link.click();\r\n    },\r\n    containMenuCode(menuCode) {\r\n        let exist = false;\r\n        this.menuCodes.forEach(element => {\r\n          if (element.menuCode == menuCode) {\r\n            exist = true;\r\n          }\r\n        });\r\n        return exist;\r\n    },\r\n    exportFn(){\r\n      let data = {\r\n        loginid: this.formValidate.username,\r\n        username: this.formValidate.realName,\r\n        dpname: this.formValidate.dpname,\r\n        roleCode: this.formValidate.roleCode,\r\n        pageSize:this.pageSize,\r\n        pageNum: 1,\r\n        flag: this.searchFlag\r\n      };\r\n      data = JSON.stringify(data);\r\n        this.axios\r\n          .post(\"/system/user/exportUserInfo\", data, {\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            responseType: \"blob\"\r\n          })\r\n          .then(response => {\r\n              this.download(response,'导出文档.xls');\r\n          })\r\n          .catch(error => {});\r\n    },\r\n    sameStep(){\r\n            // -----------\r\n      this.axios\r\n        .post(\"/system/getUserRoleUnit\")\r\n        .then(response => {\r\n        })\r\n        .catch(error => {\r\n        });\r\n      // -------------\r\n    },\r\n    deleteCookies(name) {\r\n      var date = new Date();\r\n      date.setTime(date.getTime() - 10000);\r\n      document.cookie = name + \"=0;expires=\" + date.toGMTString()+\";path=/a\";\r\n    },\r\n    getSelectLength(nodes){\r\n      this.selectLength = nodes.length;\r\n    },\r\n    mode2Save(){\r\n      // -----------\r\n      let that = this;\r\n      if (this.$refs.tree1.getCheckedNodes().length == 0 || this.formItem.levelId == \"\"){\r\n          this.$Message.warning(\"操作权限和数据权限至少各选中一项\");\r\n          return;\r\n      }\r\n      let data = {\r\n        menu: this.data4,\r\n        roleCode: this.roleCode,\r\n        levelId: this.formItem.levelId,\r\n        unitIds: this.formItem.unitIds\r\n      };\r\n      data = JSON.stringify(data);\r\n      this.axios\r\n        .post(\"/system/role/setRoleAuthView\", data, {\r\n          headers: { \"Content-Type\": \"application/json\" }\r\n        })\r\n        .then(response => {\r\n             if (response.code == \"200\"){\r\n                 that.$Message.success(\"保存成功\");\r\n                 setTimeout(()=>{\r\n                  that.modal2 = false;\r\n                },2000)\r\n            }\r\n        })\r\n        .catch(error => {});\r\n      // -------------\r\n    },\r\n    updateShowSelectTreeDates(code) {\r\n      for (let i = 0; i < this.levelIds.length; i++) {\r\n        if (this.levelIds[i].code == code) {\r\n          this.showSelectTreeDates = this.levelIds[i].flag;\r\n          return;\r\n        }\r\n      }\r\n    },\r\n    pageSizefun(a){\r\n      this.pageSize=a*1;\r\n      if(this.pageNum == 1){\r\n          this.pageChange(1);\r\n      }\r\n    },\r\n    pageChange(pageNo) {\r\n      this.pageNum = pageNo * 1;\r\n      // -----------\r\n      let that = this;\r\n      let data = {\r\n        loginid: this.formValidate.username,\r\n        username: this.formValidate.realName,\r\n        dpname: this.formValidate.dpname,\r\n        roleCode: this.formValidate.roleCode,\r\n        pageSize:this.pageSize,\r\n        pageNum: this.pageNum,\r\n        flag: this.searchFlag\r\n      };\r\n      data = JSON.stringify(data);\r\n      this.axios\r\n        .post(\"/system/user/getUserInfo\", data, {\r\n          headers: { \"Content-Type\": \"application/json\" }\r\n        })\r\n        .then(response => {\r\n          console.log(response);\r\n          if (response.data) {\r\n            that.rowCount = response.data.total;\r\n          }\r\n          if (response.data.records) {\r\n            that.tableBody = response.data.records;\r\n          }\r\n        })\r\n        .catch(error => {});\r\n      // -------------\r\n    },\r\n    handleSubmit(flag) {\r\n      this.searchFlag = flag * 1;\r\n      // -----------\r\n      let that = this;\r\n      let data = {\r\n        loginid: this.formValidate.username,\r\n        username: this.formValidate.realName,\r\n        dpname: this.formValidate.dpname,\r\n        roleCode: this.formValidate.roleCode,\r\n        pageSize:this.pageSize,\r\n        pageNum: 1,\r\n        flag: this.searchFlag\r\n      };\r\n      data = JSON.stringify(data);\r\n      this.axios\r\n        .post(\"/system/user/getUserInfo\", data, {\r\n          headers: { \"Content-Type\": \"application/json\" }\r\n        })\r\n        .then(response => {\r\n          if (response.data) {\r\n            that.rowCount = response.data.total;\r\n          }\r\n          if (response.data.records) {\r\n            that.tableBody = response.data.records;\r\n          }\r\n        })\r\n        .catch(error => {});\r\n      // -------------\r\n    },\r\n    watchfun() {\r\n      this.$router.push({ name: \"dataExtractionApplyDetail\" });\r\n    },\r\n    roleSet(idVal) {\r\n      this.formParamsId=idVal;\r\n      this.modal1 = true;\r\n      // -----------\r\n      let that = this;\r\n      let data = {\r\n        loginid: idVal\r\n      };\r\n      data = JSON.stringify(data);\r\n      this.axios\r\n        .post(\"/system/user/getUserRoleInfo\", data, {\r\n          headers: { \"Content-Type\": \"application/json\" }\r\n        })\r\n        .then(response => {\r\n          if (response.code == \"200\") {\r\n              that.formValidateModel1.interest = response.data.roleCodes;\r\n              that.formValidateModel1.gender = response.data.status;\r\n              that.formValidateModel1.desc = response.data.remarks;\r\n              that.checkBox = response.data.allRoles;\r\n          }\r\n        })\r\n\r\n        .catch(error => {});\r\n      // -------------\r\n    },\r\n    selectTreeCleanUp(treeDatas) {\r\n        for (let i = 0; i < treeDatas.length; i++) {\r\n          if (treeDatas[i].children && treeDatas[i].children.length >0) {\r\n              this.selectTreeCleanUp(treeDatas[i].children);\r\n          }\r\n          else this.$delete(treeDatas[i], \"children\");\r\n        }\r\n    },\r\n    saveFun(name) {\r\n      this.$refs[name].validate(valid => {\r\n        if (valid) {\r\n            // -----------\r\n            let that = this;\r\n            let data = {\r\n            roleCodes:this.formValidateModel1.interest,\r\n            status:this.formValidateModel1.gender,\r\n            remarks:this.formValidateModel1.desc,\r\n            loginid:this.formParamsId,\r\n            };\r\n            data = JSON.stringify(data);\r\n            this.axios\r\n              .post(\"/system/user/saveUserRole\", data, {\r\n                headers: { \"Content-Type\": \"application/json\" }\r\n              })\r\n              .then(response => {\r\n                if(response.code==200){\r\n                    this.$Message.success('保存成功');\r\n                    this.modal1 = false;\r\n                    this.handleSubmit('0');\r\n                };\r\n              })\r\n              .catch(error => {});\r\n      // -------------\r\n        }\r\n      });\r\n    },\r\n    del() {\r\n      this.modal_loading = true;\r\n      setTimeout(() => {\r\n        this.modal_loading = false;\r\n        this.modal2 = false;\r\n        this.$Message.success(\"Successfully delete\");\r\n      }, 2000);\r\n    },\r\n    roleSelectFun(val) {\r\n      this.roleCode = val;\r\n      //调用弹框2\r\n      let that = this;\r\n      let params = new FormData();\r\n      params.append(\"roleCode\", val);\r\n      this.axios\r\n        .post(\"/system/role/getRoleAuthView\", params, {\r\n          headers: { \"Content-Type\": \"multipart/form-data\" }\r\n        })\r\n        .then(response => {\r\n          if (response.code == \"200\") {\r\n            that.data4 = response.data.menu;\r\n            that.formItem = response.data.roleChecked;\r\n            that.levelIds = response.data.level;\r\n            that.selectTreeDates = response.data.unitTree;\r\n            that.selectTreeCleanUp(that.selectTreeDates);\r\n            that.levelIds.forEach(element => {\r\n              if (element.code == that.formItem.levelId)\r\n                that.showSelectTreeDates = element.flag;\r\n            });\r\n          }\r\n        })\r\n        .catch(error => {});\r\n      this.modal2 = true;\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.rightTopbtn {\r\n  margin: 15px 4px;\r\n  float: right;\r\n}\r\n.btnClass {\r\n  display: flex;\r\n  justify-content: center;\r\n  padding-top: 20px;\r\n}\r\n.operationSpan {\r\n  color: blue;\r\n  margin: 0 5px;\r\n  cursor: pointer;\r\n}\r\n.roleBox {\r\n  padding: 3px 0;\r\n  cursor: pointer;\r\n  color: blue;\r\n}\r\n.roleBox:hover {\r\n  background-color: RGB(241, 243, 244);\r\n}\r\n.spanBox {\r\n  cursor: pointer;\r\n  color: blue;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/systemManagement/userRight/userManagement.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"topTitle\"},[_c('span',{staticClass:\"topTitle-span1\"},[_vm._v(\"系统管理\")]),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('span',{staticClass:\"topTitle-span1\"},[_vm._v(\"用户权限\")]),_vm._v(\" \"),_vm._m(1),_vm._v(\" \"),_c('span',{staticClass:\"topTitle-span1\"},[_vm._v(\"用户管理\")]),_vm._v(\" \"),_c('div',{staticClass:\"button-content\"},[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.exportFn}},[_c('i',{staticClass:\"ivu-icon ivu-icon-md-arrow-up\"}),_vm._v(\"导出\\n          \")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.sameStep}},[_c('i',{staticClass:\"ivu-icon ivu-icon-md-arrow-up\"}),_vm._v(\"数据同步\\n          \")])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"contentCellBox\"},[_c('div',{staticClass:\"contentCellBox\"},[_vm._m(2),_vm._v(\" \"),_c('div',{staticClass:\"contentCellBox\"},[_c('Form',{attrs:{\"model\":_vm.formValidate,\"label-width\":120,\"inline\":\"\"}},[_c('Row',[_c('FormItem',{attrs:{\"label\":\"登录账号\",\"prop\":\"username\"}},[_c('Input',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"请输入登录账号\"},model:{value:(_vm.formValidate.username),callback:function ($$v) {_vm.$set(_vm.formValidate, \"username\", $$v)},expression:\"formValidate.username\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"真实姓名\",\"prop\":\"realName\"}},[_c('Input',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"请输入真实姓名\"},model:{value:(_vm.formValidate.realName),callback:function ($$v) {_vm.$set(_vm.formValidate, \"realName\", $$v)},expression:\"formValidate.realName\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"所属部门\"}},[_c('Input',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"请输入所属部门\"},model:{value:(_vm.formValidate.dpname),callback:function ($$v) {_vm.$set(_vm.formValidate, \"dpname\", $$v)},expression:\"formValidate.dpname\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"角色\"}},[_c('Select',{staticStyle:{\"width\":\"200px\"},model:{value:(_vm.formValidate.roleCode),callback:function ($$v) {_vm.$set(_vm.formValidate, \"roleCode\", $$v)},expression:\"formValidate.roleCode\"}},[_c('Option',{attrs:{\"value\":\"\"}},[_vm._v(\"请选择\")]),_vm._v(\" \"),_vm._l((_vm.roleCodes),function(item){return _c('Option',{key:item.roleCode,attrs:{\"value\":item.roleCode}},[_vm._v(_vm._s(item.roleName))])})],2)],1)],1),_vm._v(\" \"),_c('Row',[_c('div',{staticClass:\"btnClass\"},[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleSubmit('0')}}},[_vm._v(\"查询\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleSubmit('1')}}},[_vm._v(\"精确查询\")])],1)])],1)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"contentCellBox\"},[_vm._m(3),_vm._v(\" \"),_c('div',{staticClass:\"contentCellBody\"},[_c('Row',[_c('table',{staticClass:\"tableBox\"},[_c('thead',[_c('tr',[_c('td',[_vm._v(\"序号\")]),_vm._v(\" \"),_vm._l((_vm.tableHeader),function(item,index){return _c('td',[_vm._v(_vm._s(item.name))])})],2)]),_vm._v(\" \"),_c('tbody',_vm._l((_vm.tableBody),function(item,index){return _c('tr',{attrs:{\"id\":item.id}},[_c('td',[_vm._v(_vm._s(_vm.pageSize*(_vm.pageNum-1)+index+1))]),_vm._v(\" \"),_vm._l((item.arr),function(item2,index2){return [(item2.flag=='1')?_c('td',[_vm._v(_vm._s(item2.var))]):_vm._e(),_vm._v(\" \"),(item2.flag=='3' && _vm.containMenuCode('112003001004'))?_c('td',{on:{\"click\":function($event){return _vm.roleSet(item.id)}}},[_c('span',{staticClass:\"spanBox\"},[_vm._v(_vm._s(item2.var))])]):_vm._e(),_vm._v(\" \"),(item2.flag=='3' && !_vm.containMenuCode('112003001004'))?_c('td',[_c('span',{staticClass:\"spanBox\"})]):(item2.flag=='2'  && _vm.containMenuCode('112003001002'))?_c('td',_vm._l((item2.var),function(item3,index3){return _c('p',{staticClass:\"roleBox\",on:{\"click\":function($event){return _vm.roleSelectFun(item3.roleCode)}}},[_c('span',[_vm._v(_vm._s(item3.roleName))])])}),0):_vm._e(),_vm._v(\" \"),(item2.flag=='2'  && !_vm.containMenuCode('112003001002'))?_c('td',_vm._l((item2.var),function(item3,index3){return _c('p',[_c('span',[_vm._v(_vm._s(item3.roleName))])])}),0):_vm._e()]})],2)}),0)])]),_vm._v(\" \"),_c('div',{staticClass:\"flexCenter pageBox\"},[_c('Page',{attrs:{\"current\":_vm.pageNum,\"total\":_vm.rowCount,\"page-size\":_vm.pageSize,\"show-elevator\":\"\",\"show-sizer\":\"\"},on:{\"update:current\":function($event){_vm.pageNum=$event},\"on-change\":_vm.pageChange,\"on-page-size-change\":_vm.pageSizefun}})],1)],1)])]),_vm._v(\" \"),_c('Modal',{staticClass:\"dialog\",attrs:{\"mask-closable\":false,\"width\":\"1000\",\"title\":\"用户管理\"},model:{value:(_vm.modal1),callback:function ($$v) {_vm.modal1=$$v},expression:\"modal1\"}},[_c('div',[_c('Form',{ref:\"formValidateModel1\",attrs:{\"model\":_vm.formValidateModel1,\"rules\":_vm.ruleValidateModel1,\"label-width\":80}},[_c('FormItem',{attrs:{\"label\":\"角色\",\"prop\":\"interest\"}},[_c('CheckboxGroup',{model:{value:(_vm.formValidateModel1.interest),callback:function ($$v) {_vm.$set(_vm.formValidateModel1, \"interest\", $$v)},expression:\"formValidateModel1.interest\"}},_vm._l((_vm.checkBox),function(item,index){return _c('Checkbox',{key:index,attrs:{\"label\":item.roleCode}},[_vm._v(_vm._s(item.roleName))])}),1)],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"状态\"}},[_c('RadioGroup',{model:{value:(_vm.formValidateModel1.gender),callback:function ($$v) {_vm.$set(_vm.formValidateModel1, \"gender\", $$v)},expression:\"formValidateModel1.gender\"}},[_c('Radio',{attrs:{\"label\":\"true\"}},[_vm._v(\"启用\")]),_vm._v(\" \"),_c('Radio',{attrs:{\"label\":\"false\"}},[_vm._v(\"停用\")])],1)],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"说明\",\"prop\":\"desc\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 2,maxRows: 5},\"placeholder\":\"请输入...\"},model:{value:(_vm.formValidateModel1.desc),callback:function ($$v) {_vm.$set(_vm.formValidateModel1, \"desc\", $$v)},expression:\"formValidateModel1.desc\"}})],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"flexCenter\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('div',{staticClass:\"button-content\"},[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.saveFun('formValidateModel1')}}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('Button',{staticStyle:{\"margin-left\":\"8px\"},on:{\"click\":function($event){_vm.modal1=false}}},[_vm._v(\"取消\")])],1)])]),_vm._v(\" \"),_c('Modal',{staticClass:\"dialog\",attrs:{\"mask-closable\":false,\"width\":\"1000\",\"title\":\"权限\"},model:{value:(_vm.modal2),callback:function ($$v) {_vm.modal2=$$v},expression:\"modal2\"}},[_c('div',{staticClass:\"jurisdictionModal flexStart\"},[_c('div',{staticClass:\"jurisdictionModal-1\"},[_c('Tree',{ref:\"tree1\",attrs:{\"data\":_vm.data4,\"show-checkbox\":\"\",\"multiple\":\"\"},on:{\"on-check-change\":_vm.getSelectLength}})],1),_vm._v(\" \"),_c('div',{staticClass:\"jurisdictionModal-2\"},[_c('div',{staticClass:\"jurisdictionModal-2-1\"},[_vm._v(\"数据权限\")]),_vm._v(\" \"),_c('div',{staticClass:\"jurisdictionModal-2-2\"},[_c('Form',{attrs:{\"model\":_vm.formItem,\"label-width\":80}},[_c('FormItem',{attrs:{\"label\":\"\"}},[_c('RadioGroup',{on:{\"on-change\":_vm.updateShowSelectTreeDates},model:{value:(_vm.formItem.levelId),callback:function ($$v) {_vm.$set(_vm.formItem, \"levelId\", $$v)},expression:\"formItem.levelId\"}},_vm._l((_vm.levelIds),function(item){return _c('Radio',{key:item.code,attrs:{\"label\":item.code}},[_vm._v(_vm._s(item.name))])}),1)],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"\"}},[(_vm.showSelectTreeDates)?_c('treeselect',{staticStyle:{\"position\":\"absolute\",\"top\":\"15px\",\"left\":\"0px\"},attrs:{\"multiple\":true,\"options\":_vm.selectTreeDates},model:{value:(_vm.formItem.unitIds),callback:function ($$v) {_vm.$set(_vm.formItem, \"unitIds\", $$v)},expression:\"formItem.unitIds\"}}):_vm._e()],1)],1)],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"flexCenter button-content\",staticStyle:{\"margin\":\"0\"},attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.mode2Save}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('Button',{staticStyle:{\"margin-left\":\"8px\"},on:{\"click\":function($event){_vm.modal2=false}}},[_vm._v(\"取消\")])],1)])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"topTitle-span1\"},[_c('img',{attrs:{\"src\":require(\"../../../assets/topTitle1.png\"),\"alt\":\"\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"topTitle-span1\"},[_c('img',{attrs:{\"src\":require(\"../../../assets/topTitle1.png\"),\"alt\":\"\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"contentCellTitle\"},[_c('div',{staticClass:\"contentCellTitle-1\"}),_vm._v(\"查询条件\\n      \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"contentCellTitle\"},[_c('div',{staticClass:\"contentCellTitle-1\"}),_vm._v(\"数据列表\\n      \")])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-3771bfee\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/systemManagement/userRight/userManagement.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3771bfee\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./userManagement.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./userManagement.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./userManagement.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3771bfee\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./userManagement.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3771bfee\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/systemManagement/userRight/userManagement.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}