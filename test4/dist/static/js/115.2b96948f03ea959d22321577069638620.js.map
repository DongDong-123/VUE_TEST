{"version":3,"sources":["webpack:///src/components/statisticAnalysis/tradeStatistics.vue","webpack:///./src/components/statisticAnalysis/tradeStatistics.vue?523f","webpack:///./src/components/statisticAnalysis/tradeStatistics.vue"],"names":["tradeStatistics","created","_this","this","formValidate","date1","getFormatDate","data","start","end","stringify_default","axios","post","headers","Content-Type","then","response","code","combineCell","catch","error","_this2","holderTemp","busType","firstFlag","busDept","busTypeNum","busDeptNum","firstBusDeptNum","busTypeIndex","busDeptIndex","holder","ruleValidate","required","validator","rule","value","callback","Error","trigger","ccxx","tableBody","allAccCntAll","allAccCntOrg","allAccCntPer","allAccCntPro","allTrsCntAll","allTrsCntOrg","allTrsCntPer","allTrsCntPro","busCode","busName","options1","disabledDate","date","valueOf","Date","now","methods","download","name","url","window","URL","createObjectURL","Blob","link","document","createElement","style","display","href","setAttribute","body","appendChild","click","exportFn","_this3","length","responseType","$Message","warning","handleSubmit","_this4","valid1","$refs","validate","valid","year","getFullYear","month","getMonth","strDate","getDate","list","forEach","field","k","i","JSON","parse","statisticAnalysis_tradeStatistics","render","_vm","_h","$createElement","_c","_self","staticClass","_m","_v","directives","rawName","menuCode","expression","attrs","type","on","ref","model","rules","label-width","inline","label","prop","split-panels","options","on-change","$event","staticStyle","width","border","cellpadding","align","rowspan","colspan","_l","item","index","key","_s","busTypedis","busTypespan","busDeptdis","busDeptspan","staticRenderFns","src","__webpack_require__","alt","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/115.2b96948f03ea959d22321577069638620.js","sourcesContent":["<template>\r\n  <div class=\"common-info\">\r\n    <div class=\"topTitle\">\r\n      <span class=\"topTitle-span1\">统计分析</span>\r\n      <span class=\"topTitle-span1\">\r\n        <img src=\"@/assets/topTitle1.png\" alt />\r\n      </span>\r\n      <span class=\"topTitle-span1\">交易信息统计</span>\r\n    </div>\r\n    <div class=\"contentCellBox\">\r\n        <div class=\"export-content\">\r\n            <Button type=\"primary\"  @click=\"exportFn\" v-authcontrol=\"{menuCode:'109002001000'}\">\r\n              <i class=\"ivu-icon ivu-icon-md-arrow-up\"></i>导出\r\n            </Button>\r\n        </div>\r\n        <div class=\"contentCellBox\">\r\n          <div class=\"contentCellTitle\">\r\n            <div class=\"contentCellTitle-1\"></div>查询条件\r\n            <div class=\"button-content\">\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <Form\r\n              ref=\"formValidate\"\r\n              :model=\"formValidate\"\r\n              :rules=\"ruleValidate\"\r\n              :label-width=\"120\"\r\n              inline\r\n            >\r\n              <Row>\r\n                <FormItem label=\"统计日期：\" prop=\"date1\">\r\n                    <DatePicker split-panels type=\"daterange\" :value=\"formValidate.date1\" :options=\"options1\" @on-change=\"formValidate.date1=$event\"></DatePicker>\r\n                </FormItem>\r\n              </Row>\r\n              <Row>\r\n                <div class=\"btnClass\">\r\n                  <Button type=\"primary\" @click=\"handleSubmit()\" style=\"width:89px\">查询</Button>\r\n                </div>\r\n              </Row>\r\n            </Form>\r\n          </div>\r\n        </div>\r\n      <div class=\"contentCellBox\">\r\n        <div class=\"contentCellTitle\">\r\n          <div class=\"contentCellTitle-1\"></div>交易信息统计（按业务统计）\r\n        </div>\r\n        <div class=\"contentCellBody\">\r\n          <Row>\r\n            <table class=\"tableBox2\" border=\"1\" cellpadding=\"2\">\r\n              <thead>\r\n                <tr align=\"center\">\r\n                  <td rowspan=\"2\">序</td>\r\n                  <td rowspan=\"2\">业务类型</td>\r\n                  <td rowspan=\"2\">业务名称</td>\r\n                  <td rowspan=\"2\">所属部门</td>\r\n                  <td colspan=\"2\">个人客户</td>\r\n                  <td colspan=\"2\">机构客户</td>\r\n                  <td colspan=\"2\">产品客户</td>\r\n                  <td colspan=\"2\">合计</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>交易金额</td>\r\n                  <td>交易笔数</td>\r\n                  <td>交易金额</td>\r\n                  <td>交易笔数</td>\r\n                  <td>交易金额</td>\r\n                  <td>交易笔数</td>\r\n                  <td>交易金额</td>\r\n                  <td>交易笔数</td>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n               <template v-for=\"(item, index) in ccxx\">\r\n                    <tr  :key=\"index\">\r\n                        <td>{{index+1}}</td>\r\n                        <td :rowspan=\"item.busTypespan\" :style=\"{ display: item.busTypedis }\">{{item.busType}}</td>\r\n                        <td>{{item.busName}}</td>\r\n                        <td :rowspan=\"item.busDeptspan\" :style=\"{ display: item.busDeptdis }\">{{item.busDept}}</td>\r\n                        <td>{{item.allAccCntPer}}</td>\r\n                        <td>{{item.allTrsCntPer}}</td>\r\n                        <td>{{item.allAccCntOrg}}</td>\r\n                        <td>{{item.allTrsCntOrg}}</td>\r\n                        <td>{{item.allAccCntPro}}</td>\r\n                        <td>{{item.allTrsCntPro}}</td>\r\n                        <td>{{item.allAccCntAll}}</td>\r\n                        <td>{{item.allTrsCntAll}}</td>\r\n                    </tr>\r\n                </template>\r\n              </tbody>\r\n            </table>\r\n          </Row>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  created() {\r\n      this.formValidate.date1 = [this.getFormatDate(), this.getFormatDate()];\r\n      let data = {\r\n        start: this.formValidate.date1[0],\r\n        end: this.formValidate.date1[1]\r\n      };\r\n      data = JSON.stringify(data);\r\n      this.axios\r\n        .post(\"/stat/kyc/getTransStat\", data, {\r\n          headers: { \"Content-Type\": \"application/json\" }\r\n        })\r\n        .then(response => {\r\n          if (response.code==\"200\"){\r\n                this.combineCell(response.data);\r\n          }\r\n        })\r\n        .catch(error => {});\r\n  },\r\n  data() {\r\n    return {\r\n      formValidate: {\r\n        date1: [\"\",\"\"]\r\n      },\r\n      holderTemp: {\r\n        busType: \"\",\r\n        firstFlag: true,\r\n        busDept: \"\",\r\n        busTypeNum: 1,\r\n        busDeptNum: 1,\r\n        firstBusDeptNum: 1,\r\n        busTypeIndex: 0,\r\n        busDeptIndex: 0,\r\n      },\r\n      holder: {\r\n      },\r\n      ruleValidate: {\r\n          date1: [\r\n            {\r\n              required: true,\r\n              validator: (rule, value, callback) => {\r\n                if (this.formValidate.date1[0] == \"\") {\r\n                  return callback(new Error(\"请选择时间\"));\r\n                } else {\r\n                  callback();\r\n                }\r\n              },\r\n              trigger: \"on-change\"\r\n            }\r\n        ]\r\n      },\r\n      ccxx: [],\r\n      tableBody: [\r\n        {\r\n        \"allAccCntAll\": 7,\r\n        \"allAccCntOrg\": 2,\r\n        \"allAccCntPer\": 3,\r\n        \"allAccCntPro\": 2,\r\n        \"allTrsCntAll\": 8,\r\n        \"allTrsCntOrg\": 2,\r\n        \"allTrsCntPer\": 3,\r\n        \"allTrsCntPro\": 3,\r\n        \"busCode\": \"446\",\r\n        \"busDept\": \"一部\",\r\n        \"busName\": \"453\",\r\n        \"busType\": \"证券经纪\"\r\n        },\r\n        {\r\n        \"allAccCntAll\": 7,\r\n        \"allAccCntOrg\": 2,\r\n        \"allAccCntPer\": 3,\r\n        \"allAccCntPro\": 2,\r\n        \"allTrsCntAll\": 8,\r\n        \"allTrsCntOrg\": 2,\r\n        \"allTrsCntPer\": 3,\r\n        \"allTrsCntPro\": 3,\r\n        \"busCode\": \"448\",\r\n        \"busDept\": \"二部\",\r\n        \"busName\": \"3434\",\r\n        \"busType\": \"证券经纪\"\r\n        }, \r\n        {\r\n        \"allAccCntAll\": 7,\r\n        \"allAccCntOrg\": 2,\r\n        \"allAccCntPer\": 3,\r\n        \"allAccCntPro\": 2,\r\n        \"allTrsCntAll\": 8,\r\n        \"allTrsCntOrg\": 2,\r\n        \"allTrsCntPer\": 3,\r\n        \"allTrsCntPro\": 3,\r\n        \"busCode\": \"449\",\r\n        \"busDept\": \"三部\",\r\n        \"busName\": \"67\",\r\n        \"busType\": \"证券经纪\"\r\n        },\r\n        {\r\n          \"allAccCntAll\": 7,\r\n          \"allAccCntOrg\": 2,\r\n          \"allAccCntPer\": 3,\r\n          \"allAccCntPro\": 2,\r\n          \"allTrsCntAll\": 8,\r\n          \"allTrsCntOrg\": 2,\r\n          \"allTrsCntPer\": 3,\r\n          \"allTrsCntPro\": 3,\r\n          \"busCode\": \"12121\",\r\n          \"busDept\": \"阿萨部\",\r\n          \"busName\": \"1\",\r\n          \"busType\": \"阿萨飒撒\"\r\n        }\r\n      ],\r\n      options1: {\r\n          disabledDate (date) {\r\n              return date && date.valueOf() > Date.now()-24*60*60*1000;\r\n          }\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    download(data, name) {\r\n      if (!data) {\r\n        return;\r\n      }\r\n      let url = window.URL.createObjectURL(new Blob([data]));\r\n      let link = document.createElement(\"a\");\r\n      link.style.display = \"none\";\r\n      link.href = url;\r\n      link.setAttribute(\"download\", name);\r\n      document.body.appendChild(link);\r\n      link.click();\r\n    },\r\n    exportFn(){\r\n        if (this.ccxx.length == 0) {\r\n            this.$Message.warning(\"暂无数据\");\r\n            return;\r\n        }\r\n        let data = {\r\n          start: this.formValidate.date1[0],\r\n          end: this.formValidate.date1[1]\r\n        };\r\n        data = JSON.stringify(data);\r\n        this.axios\r\n          .post(\"/stat/kyc/doExportTransStat\", data, {\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            responseType: \"blob\"\r\n          })\r\n          .then(response => {\r\n              this.download(response,'导出文档.xls');\r\n          })\r\n          .catch(error => {});\r\n    },\r\n    handleSubmit(){\r\n        let valid1 = \"\";\r\n        this.$refs[\"formValidate\"].validate(valid => {\r\n            valid1 = valid;\r\n        });\r\n        if (!valid1)  return;\r\n        let data = {\r\n          start: this.formValidate.date1[0],\r\n          end: this.formValidate.date1[1]\r\n        };\r\n        data = JSON.stringify(data);\r\n        this.axios\r\n          .post(\"/stat/kyc/getTransStat\", data, {\r\n            headers: { \"Content-Type\": \"application/json\" }\r\n          })\r\n          .then(response => {\r\n            if (response.code==\"200\"){\r\n                  this.combineCell(response.data);\r\n            }\r\n          })\r\n          .catch(error => {});\r\n    },\r\n    getFormatDate() {\r\n        var date = new Date(new Date()-24*60*60*1000);\r\n        var seperator1 = \"-\";\r\n        var year = date.getFullYear();\r\n        var month = date.getMonth() + 1;\r\n        var strDate = date.getDate();\r\n        if (month >= 1 && month <= 9) {\r\n            month = \"0\" + month;\r\n        }\r\n        if (strDate >= 0 && strDate <= 9) {\r\n            strDate = \"0\" + strDate;\r\n        }\r\n        var currentdate = year + seperator1 + month + seperator1 + strDate;\r\n        return currentdate;\r\n    },\r\n    combineCell(list) {\r\n      let mergeColum = [\"busType\"];\r\n      mergeColum.forEach(field => {\r\n          // 定义数据list的index\r\n          var k = 0;\r\n          while (k < list.length) {\r\n            // 增加字段-用于统计有多少重复值\r\n            list[k][field + 'span'] = 1;\r\n            // 增加字段-用于控制显示与隐藏\r\n            list[k][field + 'dis'] = '';\r\n            for (var i = k + 1; i <= list.length - 1; i++) {\r\n              // 判断第k条数据的field字段，与下一条是否重复\r\n              if (list[k][field] === list[i][field] && list[k][field] !== '') {\r\n                // 如果重复，第k条数据的字段统计+1\r\n                list[k][field + 'span']++;\r\n                // 设置为显示\r\n                list[k][field + 'dis'] = '';\r\n                // 重复的记录，则设置为1，表示不跨行\r\n                list[i][field + 'span'] = 1;\r\n                // 并且该字段设置为隐藏\r\n                list[i][field + 'dis'] = 'none';\r\n              } else {\r\n                break;\r\n              }\r\n            }\r\n            // 跳转到第i条数据的索引\r\n            k = i;\r\n          }\r\n      });\r\n      let mergeColum2 = [\"busDept\"];\r\n      mergeColum2.forEach(field => {\r\n          // 定义数据list的index\r\n          var k = 0;\r\n          while (k < list.length) {\r\n            // 增加字段-用于统计有多少重复值\r\n            list[k][field + 'span'] = 1;\r\n            // 增加字段-用于控制显示与隐藏\r\n            list[k][field + 'dis'] = '';\r\n            for (var i = k + 1; i <= list.length - 1; i++) {\r\n              // 判断第k条数据的field字段，与下一条是否重复\r\n              if (list[k][field] === list[i][field] && list[k][field] !== '' && list[k][\"busType\"] === list[i][\"busType\"]) {\r\n                // 如果重复，第k条数据的字段统计+1\r\n                list[k][field + 'span']++;\r\n                // 设置为显示\r\n                list[k][field + 'dis'] = '';\r\n                // 重复的记录，则设置为1，表示不跨行\r\n                list[i][field + 'span'] = 1;\r\n                // 并且该字段设置为隐藏\r\n                list[i][field + 'dis'] = 'none';\r\n              } else {\r\n                break;\r\n              }\r\n            }\r\n            // 跳转到第i条数据的索引\r\n            k = i;\r\n          }\r\n      });\r\n      this.ccxx = JSON.parse(JSON.stringify(list));\r\n    },\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" @scoped>\r\n.tableBox2{\r\n  tbody{\r\n    td{\r\n      border: 1px solid #dcdee2;\r\n    }\r\n  }\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/statisticAnalysis/tradeStatistics.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"common-info\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"contentCellBox\"},[_c('div',{staticClass:\"export-content\"},[_c('Button',{directives:[{name:\"authcontrol\",rawName:\"v-authcontrol\",value:({menuCode:'109002001000'}),expression:\"{menuCode:'109002001000'}\"}],attrs:{\"type\":\"primary\"},on:{\"click\":_vm.exportFn}},[_c('i',{staticClass:\"ivu-icon ivu-icon-md-arrow-up\"}),_vm._v(\"导出\\n          \")])],1),_vm._v(\" \"),_c('div',{staticClass:\"contentCellBox\"},[_vm._m(1),_vm._v(\" \"),_c('div',[_c('Form',{ref:\"formValidate\",attrs:{\"model\":_vm.formValidate,\"rules\":_vm.ruleValidate,\"label-width\":120,\"inline\":\"\"}},[_c('Row',[_c('FormItem',{attrs:{\"label\":\"统计日期：\",\"prop\":\"date1\"}},[_c('DatePicker',{attrs:{\"split-panels\":\"\",\"type\":\"daterange\",\"value\":_vm.formValidate.date1,\"options\":_vm.options1},on:{\"on-change\":function($event){_vm.formValidate.date1=$event}}})],1)],1),_vm._v(\" \"),_c('Row',[_c('div',{staticClass:\"btnClass\"},[_c('Button',{staticStyle:{\"width\":\"89px\"},attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleSubmit()}}},[_vm._v(\"查询\")])],1)])],1)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"contentCellBox\"},[_vm._m(2),_vm._v(\" \"),_c('div',{staticClass:\"contentCellBody\"},[_c('Row',[_c('table',{staticClass:\"tableBox2\",attrs:{\"border\":\"1\",\"cellpadding\":\"2\"}},[_c('thead',[_c('tr',{attrs:{\"align\":\"center\"}},[_c('td',{attrs:{\"rowspan\":\"2\"}},[_vm._v(\"序\")]),_vm._v(\" \"),_c('td',{attrs:{\"rowspan\":\"2\"}},[_vm._v(\"业务类型\")]),_vm._v(\" \"),_c('td',{attrs:{\"rowspan\":\"2\"}},[_vm._v(\"业务名称\")]),_vm._v(\" \"),_c('td',{attrs:{\"rowspan\":\"2\"}},[_vm._v(\"所属部门\")]),_vm._v(\" \"),_c('td',{attrs:{\"colspan\":\"2\"}},[_vm._v(\"个人客户\")]),_vm._v(\" \"),_c('td',{attrs:{\"colspan\":\"2\"}},[_vm._v(\"机构客户\")]),_vm._v(\" \"),_c('td',{attrs:{\"colspan\":\"2\"}},[_vm._v(\"产品客户\")]),_vm._v(\" \"),_c('td',{attrs:{\"colspan\":\"2\"}},[_vm._v(\"合计\")])]),_vm._v(\" \"),_c('tr',[_c('td',[_vm._v(\"交易金额\")]),_vm._v(\" \"),_c('td',[_vm._v(\"交易笔数\")]),_vm._v(\" \"),_c('td',[_vm._v(\"交易金额\")]),_vm._v(\" \"),_c('td',[_vm._v(\"交易笔数\")]),_vm._v(\" \"),_c('td',[_vm._v(\"交易金额\")]),_vm._v(\" \"),_c('td',[_vm._v(\"交易笔数\")]),_vm._v(\" \"),_c('td',[_vm._v(\"交易金额\")]),_vm._v(\" \"),_c('td',[_vm._v(\"交易笔数\")])])]),_vm._v(\" \"),_c('tbody',[_vm._l((_vm.ccxx),function(item,index){return [_c('tr',{key:index},[_c('td',[_vm._v(_vm._s(index+1))]),_vm._v(\" \"),_c('td',{style:({ display: item.busTypedis }),attrs:{\"rowspan\":item.busTypespan}},[_vm._v(_vm._s(item.busType))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.busName))]),_vm._v(\" \"),_c('td',{style:({ display: item.busDeptdis }),attrs:{\"rowspan\":item.busDeptspan}},[_vm._v(_vm._s(item.busDept))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.allAccCntPer))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.allTrsCntPer))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.allAccCntOrg))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.allTrsCntOrg))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.allAccCntPro))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.allTrsCntPro))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.allAccCntAll))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.allTrsCntAll))])])]})],2)])])],1)])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"topTitle\"},[_c('span',{staticClass:\"topTitle-span1\"},[_vm._v(\"统计分析\")]),_vm._v(\" \"),_c('span',{staticClass:\"topTitle-span1\"},[_c('img',{attrs:{\"src\":require(\"@/assets/topTitle1.png\"),\"alt\":\"\"}})]),_vm._v(\" \"),_c('span',{staticClass:\"topTitle-span1\"},[_vm._v(\"交易信息统计\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"contentCellTitle\"},[_c('div',{staticClass:\"contentCellTitle-1\"}),_vm._v(\"查询条件\\n          \"),_c('div',{staticClass:\"button-content\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"contentCellTitle\"},[_c('div',{staticClass:\"contentCellTitle-1\"}),_vm._v(\"交易信息统计（按业务统计）\\n      \")])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-2301c8d3\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/statisticAnalysis/tradeStatistics.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2301c8d3\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./tradeStatistics.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./tradeStatistics.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./tradeStatistics.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2301c8d3\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./tradeStatistics.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/statisticAnalysis/tradeStatistics.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}