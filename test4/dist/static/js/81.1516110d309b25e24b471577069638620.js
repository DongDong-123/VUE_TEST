webpackJsonp([81],{DZbW:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("3cXf"),i=a.n(s),r={created:function(){var t=this,e=this.$route.query,a=i()(e);this.axios.post("/extract/opt/extractHisOpt",a,{headers:{"Content-Type":"application/json;charset=utf-8"}}).then(function(e){if("200"==e.code){var a=e.data.basicData,s=e.data.recordDatas;t.formValidate=a,t.tableBody=s;for(var i=0;i<t.tableBody.length;i++)t.$set(t.tableBody[i],"flag",!1)}}),this.axios.get("/extract/getExtractDic/EXTRACT_UNIT,EMERCRGENCY_LEVEL,BUSI_SCOPE,EXECU_STATUS").then(function(e){"200"==e.code&&(t.extraUnits=e.data.EXTRACT_UNIT,t.emergeLevels=e.data.EMERCRGENCY_LEVEL,t.busiScopes=e.data.BUSI_SCOPE,t.statusList=e.data.EXECU_STATUS)}).catch(function(t){})},data:function(){return{stepBox:[{name:"申请",flag:!1},{name:"复核",flag:!1},{name:"分公司审批",flag:!1},{name:"部门审批",flag:!1},{name:"合规审批",flag:!1}],tableHeader:{title1:"序",title2:"检查表名称",title3:"成功数据量",title4:"错误数据量",title5:"执行状态",title6:"执行开始时间",title7:"执行结束时间",title8:"操作"},tableBody:[],formValidate:{xxxx:"占位",workflowId:"12232",batchId:"23223",extraTime:"",extraTime2:"",extraUnit:"",busiScope:"",permissionTime:"",permissionTime2:"",emergeLevel:""},extraUnits:[],busiScopes:[],emergeLevels:[],statusList:[],ruleValidate:{xxxx:[{required:!0,message:"此项不能为空",trigger:"blur"}],extraUnit:[{required:!0,message:"请选择机构",trigger:"change"}],busiScope:[{required:!0,message:"请选择业务",trigger:"change"}],emergeLevel:[{required:!0,message:"请选择紧急程度",trigger:"change"}],extraTime:[{required:!0,message:"请选择时间",trigger:"change"}],extraTime1:[{required:!0,message:"请选择时间",trigger:"change"}],permissionTime:[{required:!0,message:"请选择时间",trigger:"change"}],permissionTime1:[{required:!0,message:"请选择时间",trigger:"change"}]}}},methods:{stepBoxCell3:function(t){return t+1!=this.stepBox.length},handleSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(t){var a=i()(e.formValidate);e.axios.post("/extract/extractApplication",a,{headers:{"Content-Type":"application/json"}}).then(function(t){}).catch(function(t){alert(2)})}})},ceshi:function(){},applyBtn:function(){this.$router.push({name:"dataExtractionApply"})},successfun:function(t){this.$router.push({name:"dataExtractionPreview",query:{type:"success",batchId:t.batchId,isSuc:"0",reDoNum:t.execuApplicationNew,tableName:t.tableField}})},errorfun:function(t){this.$router.push({name:"dataExtractionPreview",query:{type:"error",batchId:t.batchId,isSuc:"1",reDoNum:t.execuApplicationNew,tableName:t.tableField}})}}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),t._v(" "),a("div",{staticClass:"contentCellBox"},[a("div",{staticClass:"contentCellTitle"},[a("div",{staticClass:"contentCellTitle-1"}),t._v("申请信息\n      "),a("Button",{staticStyle:{float:"right","margin-top":"10px","margin-left":"60px"},attrs:{type:"primary"},on:{click:t.applyBtn}},[t._v("发起新申请")]),t._v(" "),a("div",{staticClass:"stepBox"},t._l(t.stepBox,function(e,s){return a("div",{key:e.name,staticClass:"stepBoxCell"},[a("div",{class:0==e.flag?"stepBoxCell-1":"stepBoxCell-1-2"},[t._v(t._s(s+1))]),t._v(" "),a("div",{staticClass:"stepBoxCell-2"},[t._v(t._s(e.name))]),t._v(" "),t.stepBoxCell3(s)?a("div",{staticClass:"stepBoxCell-3"}):t._e()])}),0)],1),t._v(" "),a("div",{staticClass:"contentCellBody"},[a("Form",{ref:"formValidate",attrs:{model:t.formValidate,rules:t.ruleValidate,"label-width":120,inline:""}},[a("Row",[a("FormItem",{attrs:{label:"提取数据期间：",prop:"xxxx"}},[a("FormItem",{attrs:{prop:"extraTime"}},[a("DatePicker",{attrs:{type:"date",placeholder:"请选择时间",value:t.formValidate.extraTime},on:{"on-change":function(e){t.formValidate.extraTime=e}}})],1),t._v(" "),a("FormItem",{attrs:{prop:"extraTime2"}},[a("DatePicker",{attrs:{type:"date",placeholder:"请选择时间",value:t.formValidate.extraTime2},on:{"on-change":function(e){t.formValidate.extraTime1=e}}})],1)],1),t._v(" "),a("FormItem",{attrs:{label:"提取机构：",prop:"extraUnit"}},[a("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择机构"},model:{value:t.formValidate.extraUnit,callback:function(e){t.$set(t.formValidate,"extraUnit",e)},expression:"formValidate.extraUnit"}},t._l(t.extraUnits,function(e){return a("Option",{key:e.code,attrs:{value:e.code}},[t._v(t._s(e.name))])}),1)],1),t._v(" "),a("FormItem",{attrs:{label:"业务范围",prop:"busiScope"}},[a("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择业务"},model:{value:t.formValidate.busiScope,callback:function(e){t.$set(t.formValidate,"busiScope",e)},expression:"formValidate.busiScope"}},t._l(t.busiScopes,function(e){return a("Option",{key:e.code,attrs:{value:e.code}},[t._v(t._s(e.name))])}),1)],1)],1),t._v(" "),a("Row",[a("FormItem",{attrs:{label:"权限使用时间：",prop:"xxxx"}},[a("FormItem",{attrs:{prop:"permissionTime"}},[a("DatePicker",{attrs:{type:"date",placeholder:"请选择时间",value:t.formValidate.permissionTime},on:{"on-change":function(e){t.formValidate.permissionTime=e}}})],1),t._v(" "),a("FormItem",{attrs:{prop:"permissionTime2"}},[a("DatePicker",{attrs:{type:"date",placeholder:"请选择时间",value:t.formValidate.permissionTime2},on:{"on-change":function(e){t.formValidate.permissionTime1=e}}})],1)],1),t._v(" "),a("FormItem",{attrs:{label:"紧急程度",prop:"emergeLevel"}},[a("RadioGroup",{model:{value:t.formValidate.emergeLevel,callback:function(e){t.$set(t.formValidate,"emergeLevel",e)},expression:"formValidate.emergeLevel"}},t._l(t.emergeLevels,function(e){return a("Radio",{key:e.code,attrs:{label:e.code}},[t._v(t._s(e.name))])}),1)],1)],1),t._v(" "),a("Row",[a("div",{staticClass:"fujian"},[a("div",{staticClass:"fujian-title"},[t._v("附件:")]),t._v(" "),a("p",{staticClass:"fujianself"},[t._v("央行63号文件")])])])],1)],1)]),t._v(" "),a("div",{staticClass:"contentCellBox"},[t._m(1),t._v(" "),a("div",{staticClass:"contentCellBody"},[a("Row",{staticStyle:{"margin-left":"1px","margin-bottom":"20px"}},[a("ButtonGroup",[a("Button",{attrs:{type:"primary"}},[t._v("重新执行")])],1),t._v(" "),a("ButtonGroup",[a("Button",{attrs:{type:"primary"}},[t._v("批量下载")])],1),t._v(" "),a("Dropdown",{staticStyle:{"margin-left":"0.5px"}},[a("Button",{attrs:{type:"primary"}},[a("Icon",{attrs:{type:"ios-arrow-down"}})],1),t._v(" "),a("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[a("DropdownItem",[t._v("EXCEL")]),t._v(" "),a("DropdownItem",[t._v("MYSQL")]),t._v(" "),a("DropdownItem",[t._v("TXT")]),t._v(" "),a("DropdownItem",[t._v("CSV")])],1)],1)],1),t._v(" "),a("Row",[a("table",{staticClass:"tableBox"},[a("thead",[a("tr",[a("td",[t._v(t._s(t.tableHeader.title1))]),t._v(" "),a("td",{staticClass:"textLeft"},[t._v(t._s(t.tableHeader.title2))]),t._v(" "),a("td",[t._v(t._s(t.tableHeader.title3))]),t._v(" "),a("td",[t._v(t._s(t.tableHeader.title4))]),t._v(" "),a("td",[t._v(t._s(t.tableHeader.title5))]),t._v(" "),a("td",[t._v(t._s(t.tableHeader.title6))]),t._v(" "),a("td",[t._v(t._s(t.tableHeader.title7))]),t._v(" "),a("td",{staticClass:"textLeft"},[t._v(t._s(t.tableHeader.title8))])])]),t._v(" "),a("tbody",t._l(t.tableBody,function(e,s){return a("tr",{key:e.id},[a("td",[a("Checkbox",{attrs:{checked:e.flag},on:{"update:checked":function(a){return t.$set(e,"flag",a)}}}),t._v(t._s(s+1))],1),t._v(" "),a("td",{staticClass:"textLeft"},[t._v(t._s(e.tableName))]),t._v(" "),a("td",{staticStyle:{color:"RGB(91,149,240)",cursor:"pointer"},on:{click:function(a){return t.successfun(e)}}},[t._v(t._s(e.succNum))]),t._v(" "),a("td",{staticStyle:{color:"RGB(91,149,240)",cursor:"pointer"},on:{click:function(a){return t.errorfun(e)}}},[t._v(t._s(e.errorNum))]),t._v(" "),t._l(t.statusList,function(s){return s.code==e.execuStatus&&"失败"==s.name?a("td",{key:s.code,staticStyle:{color:"RGB(250,174,98)"}},[t._v(t._s(s.name))]):t._e()}),t._v(" "),t._l(t.statusList,function(s){return s.code==e.execuStatus&&"成功"==s.name?a("td",{key:e.code,staticStyle:{color:"RGB(56,218,167)"}},[t._v(t._s(s.name))]):t._e()}),t._v(" "),t._l(t.statusList,function(s){return s.code==e.execuStatus&&"运行中"==s.name?a("td",{key:e.code,staticStyle:{color:"RGB(230,230,230)"}},[t._v(t._s(s.name))]):t._e()}),t._v(" "),t._l(t.statusList,function(s){return s.code==e.execuStatus&&"等待"==s.name?a("td",{key:e.code,staticStyle:{color:"RGB(230,230,230)"}},[t._v(t._s(s.name))]):t._e()}),t._v(" "),a("td",[t._v(t._s(e.execuStarttime))]),t._v(" "),a("td",[t._v(t._s(e.execuEndtime))]),t._v(" "),a("td",[t._v(t._s(e.execuApplicationnew))]),t._v(" "),t._l(t.statusList,function(s){return s.code==e.execuStatus&&"成功"==s.name?a("td",{key:s.code,staticClass:"textLeft"},[a("span",{staticClass:"operationSpan"},[t._v(t._s(e.extend1))])]):t._e()}),t._v(" "),"失败"==e.status?a("td",{staticClass:"textLeft"},[a("span",{staticClass:"operationSpan",staticStyle:{color:"RGB(250,174,98)"}},[t._v("重新执行")])]):t._e()],2)}),0)])])],1)]),t._v(" "),a("div",{staticStyle:{width:"100%",height:"80px"}})])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"topTitle"},[e("span",{staticClass:"topTitle-span1"},[this._v("数据提取")]),this._v(" "),e("span",{staticClass:"topTitle-span1"},[e("img",{attrs:{src:a("Dh6M"),alt:""}})]),this._v(" "),e("span",{staticClass:"topTitle-span1"},[this._v("提取数据记录")]),this._v(" "),e("span",{staticClass:"topTitle-span1"},[e("img",{attrs:{src:a("Dh6M"),alt:""}})]),this._v(" "),e("span",{staticClass:"topTitle-span1"},[this._v("查看记录详情")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"contentCellTitle"},[e("div",{staticClass:"contentCellTitle-1"}),this._v("数据列表\n    ")])}]};var l=a("C7Lr")(r,o,!1,function(t){a("k9H+")},"data-v-5fa968ec",null);e.default=l.exports},"k9H+":function(t,e){}});
//# sourceMappingURL=81.1516110d309b25e24b471577069638620.js.map