webpackJsonp([111],{IXzZ:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=l("3cXf"),a=l.n(o),s={created:function(){var e=this;this.axios.get("/model/orgRisklevel/getRiskLevelView").then(function(t){"200"==t.code&&function(){var l=t.data.orgLevelSumList;e.orgLevelCompList=JSON.parse(a()(t.data.orgLevelCompList));var o=l[0].levelCode1,s=[],r=[];r.push({levelCode:["固有风险","控制措施有效性"],color:""}),s.push({levelCode:l[0].levelName1,color:""});for(var i=!0,n=function(t){var n=1;e.orgLevelSumList.push({levelCode:l[t].levelCode,levelCode1:l[t].levelCode1,levelCode2:l[t].levelCode2}),e.orgLevelCompList.forEach(function(e,o){l[t].levelCode==e.levelCode&&(n=o)}),0==n&&(l[t].backStepFlag=!1),n==e.orgLevelCompList.length-1&&(l[t].forwardStepFlag=!1),l[t].levelCode1==o?(s.push(l[t]),i&&r.push({levelCode:l[t].levelName2,color:""})):(o=l[t].levelCode1,i=!1,e.tabledatas2.push(JSON.parse(a()(s))),(s=[]).push({levelCode:l[t].levelName1,color:""}),s.push(l[t]))},v=0;v<l.length;v++)n(v);e.tabledatas2.push(JSON.parse(a()(s))),e.tabledatas2.push(r)}()}).catch(function(e){})},data:function(){return{tabledatas2:[],orgLevelSumList:[],orgLevelCompList:[]}},methods:{backStep:function(e){var t=1;this.orgLevelCompList.forEach(function(l,o){e.levelCode!=l.levelCode||(t=o)}),0!=t?(1==t?(e.forwardStepFlag=!0,e.backStepFlag=!1):(e.forwardStepFlag=!0,e.backStepFlag=!0),e.levelCode=this.orgLevelCompList[t-1].levelCode,e.color=this.orgLevelCompList[t-1].color,this.orgLevelSumList.forEach(function(t){t.levelCode1!=e.levelCode1||t.levelCode2!=e.levelCode2||(t.levelCode=e.levelCode)})):e.forwardStepFlag=!0},forwardStep:function(e){var t=this.orgLevelCompList.length-2;this.orgLevelCompList.forEach(function(l,o){e.levelCode!=l.levelCode||(t=o)}),t!=this.orgLevelCompList.length-1?(t==this.orgLevelCompList.length-2?(e.backStepFlag=!0,e.forwardStepFlag=!1):(e.backStepFlag=!0,e.forwardStepFlag=!0),e.levelCode=this.orgLevelCompList[t+1].levelCode,e.color=this.orgLevelCompList[t+1].color,this.orgLevelSumList.forEach(function(t){t.levelCode1!=e.levelCode1||t.levelCode2!=e.levelCode2||(t.levelCode=e.levelCode)})):e.backStepFlag=!0},save:function(){var e=this,t=a()({orgRiskLevelSumDto:this.orgLevelSumList});this.axios.post("/model/orgRisklevel/saveRiskLevel",t,{headers:{"Content-Type":"application/json"}}).then(function(t){"200"==t.code&&e.$Message.success("保存成功")}).catch(function(e){})}}},r={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"third-step"},[l("div",{staticClass:"content"},[e._m(0),e._v(" "),l("div",{staticClass:"content-detail"},[l("table",{staticClass:"first-tab",attrs:{cellspacing:"0",cellpadding:"0"}},e._l(e.tabledatas2,function(t,o){return l("tr",{key:o},e._l(t,function(t,a){return l("td",{style:{background:t.color}},[o<e.tabledatas2.length-1?[0==a?[e._v("\n                    "+e._s(t.levelCode)+"\n              ")]:[0!=t.backStepFlag?l("Icon",{attrs:{type:"ios-arrow-back"},on:{click:function(l){return e.backStep(t)}}}):e._e(),e._v("\n                    "+e._s(t.levelCode)+"\n                  "),0!=t.forwardStepFlag?l("Icon",{attrs:{type:"ios-arrow-forward"},on:{click:function(l){return e.forwardStep(t)}}}):e._e()]]:[0==a?[e._l(t.levelCode,function(t,o){return[l("div",[e._v(e._s(t))]),e._v(" "),o<1?l("p"):e._e()]})]:[e._v("\n                  "+e._s(t.levelCode)+"\n              ")]]],2)}),0)}),0)]),e._v(" "),l("div",{staticClass:"form"},[l("Button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("保存")])],1)])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"table-info"},[t("span",[this._v("综合评估风险矩阵设置")])])}]};var i=l("C7Lr")(s,r,!1,function(e){l("tpsA")},"data-v-27063855",null);t.default=i.exports},tpsA:function(e,t){}});
//# sourceMappingURL=111.9b2a38e234e51e5c962c1577069638620.js.map